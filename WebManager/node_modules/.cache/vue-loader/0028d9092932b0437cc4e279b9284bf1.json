{"remainingRequest":"I:\\JavaProject\\Vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\JavaProject\\Vue2\\src\\components\\Login.vue?vue&type=style&index=0&id=ef68022e&scoped=true&lang=css&","dependencies":[{"path":"I:\\JavaProject\\Vue2\\src\\components\\Login.vue","mtime":1626620615701},{"path":"I:\\JavaProject\\Vue2\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\JavaProject\\Vue2\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"I:\\JavaProject\\Vue2\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"I:\\JavaProject\\Vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\JavaProject\\Vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmgxIHsNCiAgbWFyZ2luOiAwOw0KICBwYWRkaW5nOiAwOw0KfQ0KDQoubG9naW5fY29udGFpbmVyIHsNCiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjM2MzZjQxOyovDQogIC8qYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Ki8NCiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCd+QC9hc3NldHMvaW1hZ2VzL2p1c3RfZG9faXQuanBnJyk7DQogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7DQogIGJhY2tncm91bmQtcG9zaXRpb246IHRvcDsNCiAgaGVpZ2h0OiAxMDAlOw0KICBtYXJnaW46IDA7DQogIHBhZGRpbmc6IDA7DQp9DQoNCi5sb2dpbl9ib3ggew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGxlZnQ6IDUwJTsNCiAgdG9wOiA1MCU7DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KfQ0KDQojbG9naW5fYXZhdGFyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgd2lkdGg6IDEyMHB4Ow0KICBoZWlnaHQ6IDEyMHB4Ow0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGxlZnQ6IDUwJTsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7DQogIHRvcDogLTYwcHg7DQogIGJvcmRlci1yYWRpdXM6IDYwcHg7DQp9DQoNCiNsb2dpbl9jYXJkIHsNCiAgcGFkZGluZy10b3A6IDYwcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY5OTsNCiAgYm9yZGVyLXJhZGl1czogMTVweDsNCiAgd2lkdGg6IDQ1MHB4Ow0KfQ0KDQoubG9naW5fZm9ybSB7DQogIHBhZGRpbmctbGVmdDogMjAlOw0KICBwYWRkaW5nLXJpZ2h0OiAyMCU7Ow0KICBsZWZ0OiA1MCU7DQogIHRvcDogNTAlOw0KfQ0KDQouYnRucyB7DQogIHRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KDQojbG9naW5fdGl0bGUgew0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICB3aWR0aDogMTAwJTsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBmb250LXNpemU6IDI0cHg7DQogIGZvbnQtZmFtaWx5OiDlup7pl6jmraPpgZPmoIfpopjkvZM7DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"login_container\">\r\n    <div class=\"login_box\">\r\n      <el-card id=\"login_avatar\" shadow=\"always\">\r\n        <el-image\r\n          id=\"avatar\" :src=\"require('@/assets/logo.png')\"\r\n          :fit=\"fit\"/>\r\n      </el-card>\r\n      <el-card id=\"login_card\" shadow=\"hover\">\r\n        <div id=\"login_title\">\r\n          <span><b>校园驿站-后台管理</b></span>\r\n        </div>\r\n        <el-form class=\"login_form\" :rules=\"loginFormRules\" :model=\"loginForm\" ref=\"LoginFormRef\">\r\n          <el-form-item prop=\"username\">\r\n            <el-input v-model=\"loginForm.username\" placeholder=\"账号/邮箱/手机号\" prefix-icon=\"el-icon-user\"/>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input v-model=\"loginForm.password\" type=\"password\" placeholder=\"密码\"\r\n                      prefix-icon=\"el-icon-lock\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item class=\"btns\">\r\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n            <el-button type=\"default\" @click=\"register\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Login',\r\n  data () {\r\n    return {\r\n      fit: 'cover',\r\n      loginForm: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      loginFormRules: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: '请输入 账号/邮箱/手机号',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            min: 6,\r\n            max: 30,\r\n            message: '长度在 6 到 30 个字符',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: '请输入 密码',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    register () {\r\n      console.log(this.$refs)\r\n      this.$refs.LoginFormRef.resetFields()\r\n      // this.$router.push('/register')\r\n    },\r\n    login () {\r\n      this.$refs.LoginFormRef.validate(async (valid) => {\r\n        if (!valid) return\r\n        const { data: result } = await this.$http.post('/account/adminLogin', this.loginForm)\r\n        if (result.code === 200) {\r\n          console.log(result)\r\n          await this.$alert('登录成功', '登录信息', {\r\n            confirmButtonText: '确定',\r\n            callback: action => {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '登录成功,正在跳转'\r\n              })\r\n              // 1. 将登录成功的token保存到sessionStorage中\r\n              //  1.1 项目中除了登录之外的所有请求，必须在头部信息中绑定Authorization设置token值\r\n              window.sessionStorage.setItem('token', result.token)\r\n              // 2. 通过编程式导航跳转到后台主页，路由地址是/manage\r\n              this.$router.push('/manage')\r\n            }\r\n          })\r\n        } else {\r\n          console.log(result)\r\n          this.$message.error('登录失败：' + result.msg)\r\n          this.$refs.LoginFormRef.resetFields()\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.login_container {\r\n  /*background-color: #3c3f41;*/\r\n  /*background-color: white;*/\r\n  background-image: url('~@/assets/images/just_do_it.jpg');\r\n  background-repeat: no-repeat;\r\n  background-attachment: fixed;\r\n  background-position: top;\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.login_box {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n#login_avatar {\r\n  background-color: #ffffff;\r\n  width: 120px;\r\n  height: 120px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translate(-50%);\r\n  top: -60px;\r\n  border-radius: 60px;\r\n}\r\n\r\n#login_card {\r\n  padding-top: 60px;\r\n  background-color: #ffffff99;\r\n  border-radius: 15px;\r\n  width: 450px;\r\n}\r\n\r\n.login_form {\r\n  padding-left: 20%;\r\n  padding-right: 20%;;\r\n  left: 50%;\r\n  top: 50%;\r\n}\r\n\r\n.btns {\r\n  text-align: right;\r\n}\r\n\r\n#login_title {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 24px;\r\n  font-family: 庞门正道标题体;\r\n}\r\n</style>\r\n"]}]}